{"remainingRequest":"/Users/mdzz/Desktop/公开课/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/mdzz/Desktop/公开课/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mdzz/Desktop/公开课/src/App.vue","mtime":1621159727927},{"path":"/Users/mdzz/Desktop/公开课/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mdzz/Desktop/公开课/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mdzz/Desktop/公开课/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mdzz/Desktop/公开课/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBtb3VudGVkKCkgewogICAgbGV0IGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNhcHAiKSwKICAgICAgbWluTCA9IDAsCiAgICAgIG1heEwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSBib3gub2Zmc2V0V2lkdGgsCiAgICAgIGRpcmVjdGlvbiA9ICJyaWdodCIsCiAgICAgIHN0ZXAgPSAxMCwKICAgICAgdGltZXIgPSBudWxsOwogICAgZnVuY3Rpb24gbW92ZSgpIHsKICAgICAgLy8g6I635Y+W5b2T5YmN55qE5L2N572uIOWcqOi/meS4quWfuuehgOS4iiDlkJHlt6bmiJblkJHlj7Pnp7vliqgKICAgICAgbGV0IGN1ckwgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoYm94KVsibGVmdCJdKTsKICAgICAgaWYgKGRpcmVjdGlvbiA9PSAicmlnaHQiKSB7CiAgICAgICAgY3VyTCArPSBzdGVwOwogICAgICAgIGlmIChjdXJMID49IG1heEwpIHsKICAgICAgICAgIGN1ckwgPSBtYXhMOwogICAgICAgICAgZGlyZWN0aW9uID0gImxlZnQiOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjdXJMIC09IHN0ZXA7CiAgICAgICAgaWYgKGN1ckwgPD0gbWluTCkgewogICAgICAgICAgY3VyTCA9IG1pbkw7CiAgICAgICAgICBkaXJlY3Rpb24gPSAicmlnaHQiOwogICAgICAgIH0KICAgICAgfQogICAgICBib3guc3R5bGUubGVmdCA9IGAke2N1ckx9cHhgOwogICAgICB0aW1lciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtb3ZlKTsKICAgIH0KICAgIC8vICB0aW1lciA9IHNldEludGVydmFsKG1vdmUsIDUpOwogICAgdGltZXIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobW92ZSk7CiAgICAvKiAKICAgICAgNjBIWiDkuIDnp5Lpkp/liLfmlrA2MOasoSDljbMxNi43bXPliLfmlrDkuIDmrKEg5omN6IO955yL5Yiw5pyA5paw55qE5pWI5p6cCiAgICAgIOWFg+e0oCA1bXPov5DliqjkuIDmrKEKICAgICAgICDlvIDlp4sgMCAKICAgICAgICA1bXMg5L2N572uMTAKICAgICAgICAxMG1zIOS9jee9rjIwIAogICAgICAgIDE1bXMg5L2N572uMzAg44CM5q2k5pe25bey57uP6L+Q5YqoM+asoeS6hiDkvYbmmK/lsY/luZUxNi43bXPliLfmlrDkuIDmrKEg5omA5Lul55yL5LiN5Yiw5pWI5p6c44CNCiAgICAgICAgIC0tLSDliLDovr4xNi43bXPliLfmlrDkuIDmrKEg5L2N572u55u05o6l6Lmm5Yiw5LqGMzAg6Lez6L+H5LqG6KeE5a6a55qEc3RlcOS4ujEw55yL5Yiw55qE5pWI5p6cIOaJgOS7peWumuaXtuWZqOWKqOeUu+S8muWNoemhvy/mipbliqgv5Lii5binLS0tCiAgICAgICAgMjBtcyDkvY3nva40MCAKCiAgICAgICAg6L+Y5pyJ5LiA5Liq5Y6f5Zug5piv5a6a5pe25Zmo5piv5byC5q2l5a6P5Lu75Yqh77yM5Y+v6IO95Lya5LiN5YeG5pe244CCCiAgICAgICAg5L2/55SoIHJlcXVlc3RBbmltYXRpb25GcmFtZSDmm7/ku6MKICAgICAgICAgIC0g55Sx57O757uf5Yaz5a6a5Zue6LCD5Ye95pWw55qE5omn6KGM5pe25py6CiAgICAgICAgICAtIOW9k+mhtemdouacgOWwj+WMli/ot6/nlLHot7Povazml7YgcmVxdWVzdEFuaW1hdGlvbkZyYW1l5LiN5Lya6KKr5omn6KGMIOiAjOWumuaXtuWZqOS8muiiq+aJp+ihjAogICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUg5Y+q5pyJ5Zyo6aG16Z2i5r+A5rS754q25oCB5omN5Lya6KKr5omn6KGMCiAgICAgICAgICAtIOWHveaVsOaIqua1ge+8muWbnuiwg+WHveaVsOWcqOWxj+W5leavj+S4gOasoeWIt+aWsOmXtOmalOS4reWPquaJp+ihjOS4gOasoQogICAgICAgICAgLSDpm4bkuK3lpITnkIbmlLnlj5jmoLflvI/vvJrlsIbmr4/kuIDotJ7nmoTmoLflvI/mlLnlj5jmlLbpm4botbfmnaUg5Zyo5LiA5qyh5Zue5rWBL+mHjee7mOS4reWujOaIkAogICAgICAgICAgICDlnKjpmpDol4/miJbogIXkuI3lj6/op4HnmoTlhYPntKDkuK0g5bCG5LiN5Lya6L+b6KGM5Zue5rWBL+mHjee7mAogICAgICAgICAgLSDkuLrkuoblhbzlrrnlpITnkIYg5LiN5pSv5oyBcmVxdWVzdEFuaW1hdGlvbkZyYW1l5oOF5Ya15LiLIOWumuaXtuWZqOWKqOeUu+aXtumXtOS4gOiIrOWGmSAxNi43IAogICAgICAKICAgICAgcmVxdWVzdElkbGVDYWxsYmFjazrlnKjmtY/op4jlmajnqbrpl7LnmoTml7blgJnosIPnlKjlm57osIPlh73mlbDvvIzov5nmoLfkuIDkupvkuI3ph43opoHnmoTku7vliqHlj6/ku6Xlu7blkI7miafooYwKICAgICAgICAgICAgICAgICAgICAgICAgICDpmLLmraLpobXpnaLljaHpob/vvIzlj6rmnInmlrDniYjmtY/op4jlmajmiY3mlK/mjIHjgIIKICAgICovCiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\"></div>\n</template>\n\n<script>\nexport default {\n  mounted() {\n    let box = document.querySelector(\"#app\"),\n      minL = 0,\n      maxL = document.documentElement.clientWidth - box.offsetWidth,\n      direction = \"right\",\n      step = 10,\n      timer = null;\n    function move() {\n      // 获取当前的位置 在这个基础上 向左或向右移动\n      let curL = parseFloat(getComputedStyle(box)[\"left\"]);\n      if (direction == \"right\") {\n        curL += step;\n        if (curL >= maxL) {\n          curL = maxL;\n          direction = \"left\";\n        }\n      } else {\n        curL -= step;\n        if (curL <= minL) {\n          curL = minL;\n          direction = \"right\";\n        }\n      }\n      box.style.left = `${curL}px`;\n      timer = requestAnimationFrame(move);\n    }\n    //  timer = setInterval(move, 5);\n    timer = requestAnimationFrame(move);\n    /* \n      60HZ 一秒钟刷新60次 即16.7ms刷新一次 才能看到最新的效果\n      元素 5ms运动一次\n        开始 0 \n        5ms 位置10\n        10ms 位置20 \n        15ms 位置30 「此时已经运动3次了 但是屏幕16.7ms刷新一次 所以看不到效果」\n         --- 到达16.7ms刷新一次 位置直接蹦到了30 跳过了规定的step为10看到的效果 所以定时器动画会卡顿/抖动/丢帧---\n        20ms 位置40 \n\n        还有一个原因是定时器是异步宏任务，可能会不准时。\n        使用 requestAnimationFrame 替代\n          - 由系统决定回调函数的执行时机\n          - 当页面最小化/路由跳转时 requestAnimationFrame不会被执行 而定时器会被执行\n            requestAnimationFrame 只有在页面激活状态才会被执行\n          - 函数截流：回调函数在屏幕每一次刷新间隔中只执行一次\n          - 集中处理改变样式：将每一贞的样式改变收集起来 在一次回流/重绘中完成\n            在隐藏或者不可见的元素中 将不会进行回流/重绘\n          - 为了兼容处理 不支持requestAnimationFrame情况下 定时器动画时间一般写 16.7 \n      \n      requestIdleCallback:在浏览器空闲的时候调用回调函数，这样一些不重要的任务可以延后执行\n                          防止页面卡顿，只有新版浏览器才支持。\n    */\n  },\n};\n</script>\n\n<style lang=\"less\">\ndiv {\n  width: 80px;\n  height: 90px;\n  background: orange;\n  position: absolute;\n  left: 0;\n}\n</style>"]}]}